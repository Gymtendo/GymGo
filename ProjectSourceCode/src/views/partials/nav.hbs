<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <ul class="navbar-nav d-flex flex-row w-100 justify-content-around">

      <!-- Home/User Dashboard -->
      <li class="nav-item">
        <a class="nav-link" href="/home">
          <i class="bi bi-house fs-5"></i> <span class="nav-text">Home</span>
        </a>
      </li>

      <!-- Social (Leaderboard/Friends) -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle d-flex align-items-center justify-content-center gap-1" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-globe fs-5"></i>
            <span class="nav-text">Social</span>
        </a>
        <ul class="dropdown-menu position-absolute dropdown-social">
            <li>
                <a class="dropdown-item d-flex align-items-center gap-2" href="/leaderboard">
                    <i class="bi bi-list-ol"></i> <span>Leaderboard</span>
                </a>
            </li>
            <li>
                <a class="dropdown-item d-flex align-items-center gap-2" href="/friends">
                    <i class="bi bi-people"></i> <span>Friends</span>
                </a>
            </li>
        </ul>
      </li>

      <!-- Workouts (History & Add) -->
      <li class="nav-item">
        <a class="nav-link" href="/history">
          <i class="bi bi-activity fs-5"></i> <span class="nav-text">Workouts</span>
        </a>
      </li>

      <!-- Recommended Workout Programs -->
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center justify-content-center gap-1" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-journal-text fs-5"></i> <span class="nav-text">Programs</span>
          </a>
          <ul class="dropdown-menu position-absolute dropdown-programs">
              <li>
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/lose-fat-gain-muscle">
                      <span>Lose Fat Gain Muscle</span>
                  </a>
              </li>
              <li>
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/gain-muscle-and-fat">
                      <span>Gain Muscle and Fat</span>
                  </a>
              </li>
              <li>
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/lose-fat">
                      <span>Lose Fat</span>
                  </a>
              </li>
          </ul>
      </li>

      <!-- Objectives -->
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center justify-content-center gap-1" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-clipboard-check fs-5"></i>
              <span class="nav-text">Objectives</span>
          </a>
          <ul class="dropdown-menu position-absolute dropdown-objectives">
              <li>
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/boss">
                      <i class="bi bi-emoji-angry"></i>
                      <span>Boss</span>
                  </a>
              </li>
              <li>
                  <a class="dropdown-item d-flex align-items-center gap-2" href="/quests">
                      <i class="bi bi-check2-circle"></i>
                      <span>Quests</span>
                  </a>
              </li>
          </ul>
      </li>

      <!-- Profile / Login / Register -->
      {{#if loggedIn}}
        <!-- Profile Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center justify-content-center gap-1" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-5"></i> <span class="nav-text">Profile</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end position-absolute dropdown-profile">
            <li><a class="dropdown-item" href="/history">Exercise History</a></li>
            <li>
              <p class="dropdown-item mb-0 disabled text-muted">User: {{username}}</p>
              <p class="dropdown-item mb-0 disabled text-muted">Your XP: {{xp}}</p>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <form id="logout-form-dropdown" action="/logout" method="POST" class="d-inline">
                <button type="submit" class="dropdown-item text-danger">
                  <i class="bi bi-box-arrow-right fs-5"></i> Logout
                </button>
              </form>
            </li>
          </ul>
        </li>
      {{else}}
        <!-- Login and Register if not logged in -->
        {{#unless (eq currentPath "/login")}}
          <li class="nav-item">
            <a class="nav-link" href="/login">
              <i class="bi bi-box-arrow-in-left fs-5"></i> <span class="nav-text">Login</span>
            </a>
          </li>
        {{/unless}}

        {{#unless (eq currentPath "/register")}}
          <li class="nav-item">
            <a class="nav-link" href="/register">
              <i class="bi bi-person-plus fs-5"></i> <span class="nav-text">Register</span>
            </a>
          </li>
        {{/unless}}
      {{/if}}

    </ul>
  </div>
</nav>
